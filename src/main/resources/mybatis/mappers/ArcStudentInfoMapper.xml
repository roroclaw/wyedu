<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cloud9.biz.dao.mybatis.ArcStudentInfoMapper" >
  <resultMap id="BaseResultMap" type="com.cloud9.biz.models.ArcStudentInfo" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="DOC_ID" property="docId" jdbcType="VARCHAR" />
    <result column="STU_NUMBER" property="stuNumber" jdbcType="VARCHAR" />
    <result column="USER_ID" property="userId" jdbcType="VARCHAR" />
    <result column="REAL_NAME" property="realName" jdbcType="VARCHAR" />
    <result column="IMG_URL" property="imgUrl" jdbcType="VARCHAR" />
    <result column="SEX" property="sex" jdbcType="VARCHAR" />
    <result column="USED_NAME" property="usedName" jdbcType="VARCHAR" />
    <result column="IDENTITY_CARD" property="identityCard" jdbcType="VARCHAR" />
    <result column="BIRTH" property="birth" jdbcType="DATE" />
    <result column="NATION" property="nation" jdbcType="VARCHAR" />
    <result column="POLITICAL_STATUS" property="politicalStatus" jdbcType="VARCHAR" />
    <result column="POST_CODE" property="postCode" jdbcType="VARCHAR" />
    <result column="CLASS_ID" property="classId" jdbcType="VARCHAR" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="GRADE" property="grade" jdbcType="VARCHAR" />
    <result column="ENROL_DATE" property="enrolDate" jdbcType="DATE" />
    <result column="PHONE" property="phone" jdbcType="VARCHAR" />
    <result column="MAJOR_ID" property="majorId" jdbcType="VARCHAR" />
    <result column="REGISTRY_PROVINCE_CODE" property="registryProvinceCode" jdbcType="VARCHAR" />
    <result column="REGISTRY_PROVINCE_TEXT" property="registryProvinceText" jdbcType="VARCHAR" />
    <result column="REGISTRY_DISTRICT_CODE" property="registryDistrictCode" jdbcType="VARCHAR" />
    <result column="REGISTRY_DISTRICT_TEXT" property="registryDistrictText" jdbcType="VARCHAR" />
    <result column="REGISTRY_CITY_CODE" property="registryCityCode" jdbcType="VARCHAR" />
    <result column="REGISTRY_CITY_TEXT" property="registryCityText" jdbcType="VARCHAR" />
    <result column="REGISTRY_TYPE" property="registryType" jdbcType="VARCHAR" />
    <result column="NATIVE_PLACE" property="nativePlace" jdbcType="VARCHAR" />
    <result column="FROM_HMT" property="fromHmt" jdbcType="VARCHAR" />
    <result column="EDU_TYPE" property="eduType" jdbcType="VARCHAR" />
    <result column="BASIC_ALLOWANCES" property="basicAllowances" jdbcType="VARCHAR" />
    <result column="TRANS_REGISTRY" property="transRegistry" jdbcType="VARCHAR" />
    <result column="EDU_GRANT" property="eduGrant" jdbcType="VARCHAR" />
    <result column="EDU_GRANT_AMOUNT" property="eduGrantAmount" jdbcType="VARCHAR" />
    <result column="BANK_ACCOUNTS" property="bankAccounts" jdbcType="VARCHAR" />
    <result column="LEARN_TYPE" property="learnType" jdbcType="VARCHAR" />
    <result column="RECRUIT_TYPE" property="recruitType" jdbcType="VARCHAR" />
    <result column="TEACH_PLACE" property="teachPlace" jdbcType="VARCHAR" />
    <result column="STUDENT_FROM" property="studentFrom" jdbcType="VARCHAR" />
    <result column="STUDENT_SORT" property="studentSort" jdbcType="VARCHAR" />
    <result column="OFFICIAL_REG_CODE" property="officialRegCode" jdbcType="VARCHAR" />
    <result column="PARENTS_NAME" property="parentsName" jdbcType="VARCHAR" />
    <result column="PARENTS_PHONE" property="parentsPhone" jdbcType="VARCHAR" />
    <result column="FA_NAME" property="faName" jdbcType="VARCHAR" />
    <result column="FA_PHONE" property="faPhone" jdbcType="VARCHAR" />
    <result column="FA_WORK" property="faWork" jdbcType="VARCHAR" />
    <result column="MA_NAME" property="maName" jdbcType="VARCHAR" />
    <result column="MA_PHONE" property="maPhone" jdbcType="VARCHAR" />
    <result column="MA_WORK" property="maWork" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="CREATOR" property="creator" jdbcType="VARCHAR" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="UPDATER" property="updater" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="typeText" property="typeText" jdbcType="INTEGER"/>
    <result column="statusText" jdbcType="VARCHAR" property="statusText"/>
    <result column="sexText" property="sexText" jdbcType="VARCHAR"/>
    <result column="majorText" property="majorText" jdbcType="VARCHAR"/>
    <result column="classText" property="classText" jdbcType="VARCHAR" />
    <result column="gradeText" property="gradeText" jdbcType="VARCHAR" />
    <!--<result column="tchPlanText" property="tchPlanText" jdbcType="VARCHAR" />-->
    <result column="eduTypeText" property="eduTypeText" jdbcType="VARCHAR" />
    <result column="classSeq" property="classSeq" jdbcType="VARCHAR" />
    <result column="extStarTime" property="extStarTime" jdbcType="TIMESTAMP" />
    <result column="extEndTime" property="extEndTime" jdbcType="TIMESTAMP" />
    <result column="extType" property="extType" jdbcType="VARCHAR" />
    <result column="period" property="period" jdbcType="VARCHAR" />
    <result column="graduateYear" property="graduateYear" jdbcType="VARCHAR" />
    <result column="className" property="className" jdbcType="VARCHAR" />
  </resultMap>

  <resultMap id="ResultMapWithBLOBs" type="com.cloud9.biz.models.ArcStudentInfoWithBLOBs" extends="BaseResultMap" >
    <result column="GRADUATE_FROM" property="graduateFrom" jdbcType="LONGVARCHAR" />
    <result column="REGISTRY_ADDR" property="registryAddr" jdbcType="LONGVARCHAR" />
    <result column="HOME_ADDR" property="homeAddr" jdbcType="LONGVARCHAR" />
    <result column="REMARKS" property="remarks" jdbcType="LONGVARCHAR" />
  </resultMap>

  <resultMap id="StuAttendanceCheckResultMap" type="com.cloud9.biz.models.TchStuAttendanceCheckInfo" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="DOC_ID" property="docId" jdbcType="VARCHAR" />
    <result column="STU_NUMBER" property="stuNumber" jdbcType="VARCHAR" />
    <result column="USER_ID" property="userId" jdbcType="VARCHAR" />
    <result column="REAL_NAME" property="realName" jdbcType="VARCHAR" />
    <result column="IMG_URL" property="imgUrl" jdbcType="VARCHAR" />
    <result column="SEX" property="sex" jdbcType="VARCHAR" />
    <result column="USED_NAME" property="usedName" jdbcType="VARCHAR" />
    <result column="IDENTITY_CARD" property="identityCard" jdbcType="VARCHAR" />
    <result column="CLASS_ID" property="classId" jdbcType="VARCHAR" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="GRADE" property="grade" jdbcType="VARCHAR" />
    <result column="ENROL_DATE" property="enrolDate" jdbcType="DATE" />
    <result column="PHONE" property="phone" jdbcType="VARCHAR" />
    <result column="MAJOR_ID" property="majorId" jdbcType="VARCHAR" />
    <result column="PARENTS_NAME" property="parentsName" jdbcType="VARCHAR" />
    <result column="PARENTS_PHONE" property="parentsPhone" jdbcType="VARCHAR" />
    <result column="FA_NAME" property="faName" jdbcType="VARCHAR" />
    <result column="FA_PHONE" property="faPhone" jdbcType="VARCHAR" />
    <result column="FA_WORK" property="faWork" jdbcType="VARCHAR" />
    <result column="MA_NAME" property="maName" jdbcType="VARCHAR" />
    <result column="MA_PHONE" property="maPhone" jdbcType="VARCHAR" />
    <result column="MA_WORK" property="maWork" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="typeText" property="typeText" jdbcType="INTEGER"/>
    <result column="statusText" jdbcType="VARCHAR" property="statusText"/>
    <result column="sexText" property="sexText" jdbcType="VARCHAR"/>
    <result column="majorText" property="majorText" jdbcType="VARCHAR"/>
    <result column="classText" property="classText" jdbcType="VARCHAR" />
    <result column="classSeq" property="classSeq" jdbcType="VARCHAR" />
    <result column="period" property="period" jdbcType="VARCHAR" />
    <result column="graduateYear" property="graduateYear" jdbcType="VARCHAR" />
    <result column="ASSESSMENT_CODE" property="assessmentCode" jdbcType="VARCHAR" />
    <result column="STU_ID" property="stuId" jdbcType="VARCHAR" />
    <result column="TOTAL" property="total" jdbcType="INTEGER" />
    <result column="TERM" property="term" jdbcType="VARCHAR" />
    <result column="SCHOOL_YEAR" property="schoolYear" jdbcType="VARCHAR" />
    <result column="assessmentCodeText" property="assessmentCodeText" jdbcType="VARCHAR" />
    <result column="termText" property="termText" jdbcType="VARCHAR" />
  </resultMap>

  <sql id="Base_Column_List" >
    ID, DOC_ID, STU_NUMBER, USER_ID, REAL_NAME, IMG_URL, SEX, USED_NAME, IDENTITY_CARD,
    BIRTH, NATION, POLITICAL_STATUS, POST_CODE, CLASS_ID, TYPE, GRADE, ENROL_DATE, PHONE, 
    MAJOR_ID, REGISTRY_PROVINCE_CODE, REGISTRY_PROVINCE_TEXT, REGISTRY_DISTRICT_CODE, 
    REGISTRY_DISTRICT_TEXT, REGISTRY_CITY_CODE, REGISTRY_CITY_TEXT, REGISTRY_TYPE, NATIVE_PLACE, 
    FROM_HMT, EDU_TYPE, BASIC_ALLOWANCES, TRANS_REGISTRY, EDU_GRANT, EDU_GRANT_AMOUNT, 
    BANK_ACCOUNTS, LEARN_TYPE, RECRUIT_TYPE, TEACH_PLACE, STUDENT_FROM, STUDENT_SORT, 
    OFFICIAL_REG_CODE, PARENTS_NAME, PARENTS_PHONE, FA_NAME, FA_PHONE, FA_WORK, MA_NAME, 
    MA_PHONE, MA_WORK, CREATE_TIME, CREATOR, UPDATE_TIME, UPDATER, STATUS
  </sql>
  <sql id="Blob_Column_List" >
    GRADUATE_FROM, REGISTRY_ADDR, HOME_ADDR, REMARKS
  </sql>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    ,(select PLAN_ID from arc_student_plan_rel where STU_ID =a.ID) as tchPlanId
    from arc_student_info a
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from arc_student_info
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.cloud9.biz.models.ArcStudentInfoWithBLOBs" >
    insert into arc_student_info (ID, DOC_ID, STU_NUMBER,
      USER_ID, REAL_NAME, IMG_URL, 
      SEX, USED_NAME, IDENTITY_CARD, 
      BIRTH, NATION, POLITICAL_STATUS, 
      POST_CODE, CLASS_ID, TYPE, 
      GRADE, ENROL_DATE, PHONE, 
      MAJOR_ID, REGISTRY_PROVINCE_CODE, REGISTRY_PROVINCE_TEXT, 
      REGISTRY_DISTRICT_CODE, REGISTRY_DISTRICT_TEXT, 
      REGISTRY_CITY_CODE, REGISTRY_CITY_TEXT, REGISTRY_TYPE, 
      NATIVE_PLACE, FROM_HMT, EDU_TYPE, 
      BASIC_ALLOWANCES, TRANS_REGISTRY, EDU_GRANT, 
      EDU_GRANT_AMOUNT, BANK_ACCOUNTS, LEARN_TYPE, 
      RECRUIT_TYPE, TEACH_PLACE, STUDENT_FROM, 
      STUDENT_SORT, OFFICIAL_REG_CODE, PARENTS_NAME, 
      PARENTS_PHONE, FA_NAME, FA_PHONE, 
      FA_WORK, MA_NAME, MA_PHONE, 
      MA_WORK, CREATE_TIME, CREATOR, 
      UPDATE_TIME, UPDATER, STATUS, 
      GRADUATE_FROM, REGISTRY_ADDR, HOME_ADDR, 
      REMARKS)
    values (#{id,jdbcType=VARCHAR}, #{docId,jdbcType=VARCHAR}, #{stuNumber,jdbcType=VARCHAR},
      #{userId,jdbcType=VARCHAR}, #{realName,jdbcType=VARCHAR}, #{imgUrl,jdbcType=VARCHAR}, 
      #{sex,jdbcType=VARCHAR}, #{usedName,jdbcType=VARCHAR}, #{identityCard,jdbcType=VARCHAR}, 
      #{birth,jdbcType=DATE}, #{nation,jdbcType=VARCHAR}, #{politicalStatus,jdbcType=VARCHAR}, 
      #{postCode,jdbcType=VARCHAR}, #{classId,jdbcType=VARCHAR}, #{type,jdbcType=VARCHAR}, 
      #{grade,jdbcType=VARCHAR}, #{enrolDate,jdbcType=DATE}, #{phone,jdbcType=VARCHAR}, 
      #{majorId,jdbcType=VARCHAR}, #{registryProvinceCode,jdbcType=VARCHAR}, #{registryProvinceText,jdbcType=VARCHAR}, 
      #{registryDistrictCode,jdbcType=VARCHAR}, #{registryDistrictText,jdbcType=VARCHAR}, 
      #{registryCityCode,jdbcType=VARCHAR}, #{registryCityText,jdbcType=VARCHAR}, #{registryType,jdbcType=VARCHAR}, 
      #{nativePlace,jdbcType=VARCHAR}, #{fromHmt,jdbcType=VARCHAR}, #{eduType,jdbcType=VARCHAR}, 
      #{basicAllowances,jdbcType=VARCHAR}, #{transRegistry,jdbcType=VARCHAR}, #{eduGrant,jdbcType=VARCHAR}, 
      #{eduGrantAmount,jdbcType=VARCHAR}, #{bankAccounts,jdbcType=VARCHAR}, #{learnType,jdbcType=VARCHAR}, 
      #{recruitType,jdbcType=VARCHAR}, #{teachPlace,jdbcType=VARCHAR}, #{studentFrom,jdbcType=VARCHAR}, 
      #{studentSort,jdbcType=VARCHAR}, #{officialRegCode,jdbcType=VARCHAR}, #{parentsName,jdbcType=VARCHAR}, 
      #{parentsPhone,jdbcType=VARCHAR}, #{faName,jdbcType=VARCHAR}, #{faPhone,jdbcType=VARCHAR}, 
      #{faWork,jdbcType=VARCHAR}, #{maName,jdbcType=VARCHAR}, #{maPhone,jdbcType=VARCHAR}, 
      #{maWork,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, #{creator,jdbcType=VARCHAR}, 
      #{updateTime,jdbcType=TIMESTAMP}, #{updater,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR}, 
      #{graduateFrom,jdbcType=LONGVARCHAR}, #{registryAddr,jdbcType=LONGVARCHAR}, #{homeAddr,jdbcType=LONGVARCHAR}, 
      #{remarks,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.cloud9.biz.models.ArcStudentInfoWithBLOBs" >
    insert into arc_student_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="docId != null" >
        DOC_ID,
      </if>
      <if test="stuNumber != null" >
        STU_NUMBER,
      </if>
      <if test="userId != null" >
        USER_ID,
      </if>
      <if test="realName != null" >
        REAL_NAME,
      </if>
      <if test="imgUrl != null" >
        IMG_URL,
      </if>
      <if test="sex != null" >
        SEX,
      </if>
      <if test="usedName != null" >
        USED_NAME,
      </if>
      <if test="identityCard != null" >
        IDENTITY_CARD,
      </if>
      <if test="birth != null" >
        BIRTH,
      </if>
      <if test="nation != null" >
        NATION,
      </if>
      <if test="politicalStatus != null" >
        POLITICAL_STATUS,
      </if>
      <if test="postCode != null" >
        POST_CODE,
      </if>
      <if test="classId != null" >
        CLASS_ID,
      </if>
      <if test="type != null" >
        TYPE,
      </if>
      <if test="grade != null" >
        GRADE,
      </if>
      <if test="enrolDate != null" >
        ENROL_DATE,
      </if>
      <if test="phone != null" >
        PHONE,
      </if>
      <if test="majorId != null" >
        MAJOR_ID,
      </if>
      <if test="registryProvinceCode != null" >
        REGISTRY_PROVINCE_CODE,
      </if>
      <if test="registryProvinceText != null" >
        REGISTRY_PROVINCE_TEXT,
      </if>
      <if test="registryDistrictCode != null" >
        REGISTRY_DISTRICT_CODE,
      </if>
      <if test="registryDistrictText != null" >
        REGISTRY_DISTRICT_TEXT,
      </if>
      <if test="registryCityCode != null" >
        REGISTRY_CITY_CODE,
      </if>
      <if test="registryCityText != null" >
        REGISTRY_CITY_TEXT,
      </if>
      <if test="registryType != null" >
        REGISTRY_TYPE,
      </if>
      <if test="nativePlace != null" >
        NATIVE_PLACE,
      </if>
      <if test="fromHmt != null" >
        FROM_HMT,
      </if>
      <if test="eduType != null" >
        EDU_TYPE,
      </if>
      <if test="basicAllowances != null" >
        BASIC_ALLOWANCES,
      </if>
      <if test="transRegistry != null" >
        TRANS_REGISTRY,
      </if>
      <if test="eduGrant != null" >
        EDU_GRANT,
      </if>
      <if test="eduGrantAmount != null" >
        EDU_GRANT_AMOUNT,
      </if>
      <if test="bankAccounts != null" >
        BANK_ACCOUNTS,
      </if>
      <if test="learnType != null" >
        LEARN_TYPE,
      </if>
      <if test="recruitType != null" >
        RECRUIT_TYPE,
      </if>
      <if test="teachPlace != null" >
        TEACH_PLACE,
      </if>
      <if test="studentFrom != null" >
        STUDENT_FROM,
      </if>
      <if test="studentSort != null" >
        STUDENT_SORT,
      </if>
      <if test="officialRegCode != null" >
        OFFICIAL_REG_CODE,
      </if>
      <if test="parentsName != null" >
        PARENTS_NAME,
      </if>
      <if test="parentsPhone != null" >
        PARENTS_PHONE,
      </if>
      <if test="faName != null" >
        FA_NAME,
      </if>
      <if test="faPhone != null" >
        FA_PHONE,
      </if>
      <if test="faWork != null" >
        FA_WORK,
      </if>
      <if test="maName != null" >
        MA_NAME,
      </if>
      <if test="maPhone != null" >
        MA_PHONE,
      </if>
      <if test="maWork != null" >
        MA_WORK,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="creator != null" >
        CREATOR,
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME,
      </if>
      <if test="updater != null" >
        UPDATER,
      </if>
      <if test="status != null" >
        STATUS,
      </if>
      <if test="graduateFrom != null" >
        GRADUATE_FROM,
      </if>
      <if test="registryAddr != null" >
        REGISTRY_ADDR,
      </if>
      <if test="homeAddr != null" >
        HOME_ADDR,
      </if>
      <if test="remarks != null" >
        REMARKS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="docId != null" >
        #{docId,jdbcType=VARCHAR},
      </if>
      <if test="stuNumber != null" >
        #{stuNumber,jdbcType=VARCHAR},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="realName != null" >
        #{realName,jdbcType=VARCHAR},
      </if>
      <if test="imgUrl != null" >
        #{imgUrl,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        #{sex,jdbcType=VARCHAR},
      </if>
      <if test="usedName != null" >
        #{usedName,jdbcType=VARCHAR},
      </if>
      <if test="identityCard != null" >
        #{identityCard,jdbcType=VARCHAR},
      </if>
      <if test="birth != null" >
        #{birth,jdbcType=DATE},
      </if>
      <if test="nation != null" >
        #{nation,jdbcType=VARCHAR},
      </if>
      <if test="politicalStatus != null" >
        #{politicalStatus,jdbcType=VARCHAR},
      </if>
      <if test="postCode != null" >
        #{postCode,jdbcType=VARCHAR},
      </if>
      <if test="classId != null" >
        #{classId,jdbcType=VARCHAR},
      </if>
      <if test="type != null" >
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="grade != null" >
        #{grade,jdbcType=VARCHAR},
      </if>
      <if test="enrolDate != null" >
        #{enrolDate,jdbcType=DATE},
      </if>
      <if test="phone != null" >
        #{phone,jdbcType=VARCHAR},
      </if>
      <if test="majorId != null" >
        #{majorId,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceCode != null" >
        #{registryProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceText != null" >
        #{registryProvinceText,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictCode != null" >
        #{registryDistrictCode,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictText != null" >
        #{registryDistrictText,jdbcType=VARCHAR},
      </if>
      <if test="registryCityCode != null" >
        #{registryCityCode,jdbcType=VARCHAR},
      </if>
      <if test="registryCityText != null" >
        #{registryCityText,jdbcType=VARCHAR},
      </if>
      <if test="registryType != null" >
        #{registryType,jdbcType=VARCHAR},
      </if>
      <if test="nativePlace != null" >
        #{nativePlace,jdbcType=VARCHAR},
      </if>
      <if test="fromHmt != null" >
        #{fromHmt,jdbcType=VARCHAR},
      </if>
      <if test="eduType != null" >
        #{eduType,jdbcType=VARCHAR},
      </if>
      <if test="basicAllowances != null" >
        #{basicAllowances,jdbcType=VARCHAR},
      </if>
      <if test="transRegistry != null" >
        #{transRegistry,jdbcType=VARCHAR},
      </if>
      <if test="eduGrant != null" >
        #{eduGrant,jdbcType=VARCHAR},
      </if>
      <if test="eduGrantAmount != null" >
        #{eduGrantAmount,jdbcType=VARCHAR},
      </if>
      <if test="bankAccounts != null" >
        #{bankAccounts,jdbcType=VARCHAR},
      </if>
      <if test="learnType != null" >
        #{learnType,jdbcType=VARCHAR},
      </if>
      <if test="recruitType != null" >
        #{recruitType,jdbcType=VARCHAR},
      </if>
      <if test="teachPlace != null" >
        #{teachPlace,jdbcType=VARCHAR},
      </if>
      <if test="studentFrom != null" >
        #{studentFrom,jdbcType=VARCHAR},
      </if>
      <if test="studentSort != null" >
        #{studentSort,jdbcType=VARCHAR},
      </if>
      <if test="officialRegCode != null" >
        #{officialRegCode,jdbcType=VARCHAR},
      </if>
      <if test="parentsName != null" >
        #{parentsName,jdbcType=VARCHAR},
      </if>
      <if test="parentsPhone != null" >
        #{parentsPhone,jdbcType=VARCHAR},
      </if>
      <if test="faName != null" >
        #{faName,jdbcType=VARCHAR},
      </if>
      <if test="faPhone != null" >
        #{faPhone,jdbcType=VARCHAR},
      </if>
      <if test="faWork != null" >
        #{faWork,jdbcType=VARCHAR},
      </if>
      <if test="maName != null" >
        #{maName,jdbcType=VARCHAR},
      </if>
      <if test="maPhone != null" >
        #{maPhone,jdbcType=VARCHAR},
      </if>
      <if test="maWork != null" >
        #{maWork,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null" >
        #{creator,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null" >
        #{updater,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="graduateFrom != null" >
        #{graduateFrom,jdbcType=LONGVARCHAR},
      </if>
      <if test="registryAddr != null" >
        #{registryAddr,jdbcType=LONGVARCHAR},
      </if>
      <if test="homeAddr != null" >
        #{homeAddr,jdbcType=LONGVARCHAR},
      </if>
      <if test="remarks != null" >
        #{remarks,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.cloud9.biz.models.ArcStudentInfoWithBLOBs" >
    update arc_student_info
    <set >
      <if test="docId != null" >
        DOC_ID = #{docId,jdbcType=VARCHAR},
      </if>
      <if test="stuNumber != null" >
        STU_NUMBER = #{stuNumber,jdbcType=VARCHAR},
      </if>
      <if test="userId != null" >
        USER_ID = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="realName != null" >
        REAL_NAME = #{realName,jdbcType=VARCHAR},
      </if>
      <if test="imgUrl != null" >
        IMG_URL = #{imgUrl,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        SEX = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="usedName != null" >
        USED_NAME = #{usedName,jdbcType=VARCHAR},
      </if>
      <if test="identityCard != null" >
        IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR},
      </if>
      <if test="birth != null" >
        BIRTH = #{birth,jdbcType=DATE},
      </if>
      <if test="nation != null" >
        NATION = #{nation,jdbcType=VARCHAR},
      </if>
      <if test="politicalStatus != null" >
        POLITICAL_STATUS = #{politicalStatus,jdbcType=VARCHAR},
      </if>
      <if test="postCode != null" >
        POST_CODE = #{postCode,jdbcType=VARCHAR},
      </if>
      <if test="classId != null" >
        CLASS_ID = #{classId,jdbcType=VARCHAR},
      </if>
      <if test="type != null" >
        TYPE = #{type,jdbcType=VARCHAR},
      </if>
      <if test="grade != null" >
        GRADE = #{grade,jdbcType=VARCHAR},
      </if>
      <if test="enrolDate != null" >
        ENROL_DATE = #{enrolDate,jdbcType=DATE},
      </if>
      <if test="phone != null" >
        PHONE = #{phone,jdbcType=VARCHAR},
      </if>
      <if test="majorId != null" >
        MAJOR_ID = #{majorId,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceCode != null" >
        REGISTRY_PROVINCE_CODE = #{registryProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceText != null" >
        REGISTRY_PROVINCE_TEXT = #{registryProvinceText,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictCode != null" >
        REGISTRY_DISTRICT_CODE = #{registryDistrictCode,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictText != null" >
        REGISTRY_DISTRICT_TEXT = #{registryDistrictText,jdbcType=VARCHAR},
      </if>
      <if test="registryCityCode != null" >
        REGISTRY_CITY_CODE = #{registryCityCode,jdbcType=VARCHAR},
      </if>
      <if test="registryCityText != null" >
        REGISTRY_CITY_TEXT = #{registryCityText,jdbcType=VARCHAR},
      </if>
      <if test="registryType != null" >
        REGISTRY_TYPE = #{registryType,jdbcType=VARCHAR},
      </if>
      <if test="nativePlace != null" >
        NATIVE_PLACE = #{nativePlace,jdbcType=VARCHAR},
      </if>
      <if test="fromHmt != null" >
        FROM_HMT = #{fromHmt,jdbcType=VARCHAR},
      </if>
      <if test="eduType != null" >
        EDU_TYPE = #{eduType,jdbcType=VARCHAR},
      </if>
      <if test="basicAllowances != null" >
        BASIC_ALLOWANCES = #{basicAllowances,jdbcType=VARCHAR},
      </if>
      <if test="transRegistry != null" >
        TRANS_REGISTRY = #{transRegistry,jdbcType=VARCHAR},
      </if>
      <if test="eduGrant != null" >
        EDU_GRANT = #{eduGrant,jdbcType=VARCHAR},
      </if>
      <if test="eduGrantAmount != null" >
        EDU_GRANT_AMOUNT = #{eduGrantAmount,jdbcType=VARCHAR},
      </if>
      <if test="bankAccounts != null" >
        BANK_ACCOUNTS = #{bankAccounts,jdbcType=VARCHAR},
      </if>
      <if test="learnType != null" >
        LEARN_TYPE = #{learnType,jdbcType=VARCHAR},
      </if>
      <if test="recruitType != null" >
        RECRUIT_TYPE = #{recruitType,jdbcType=VARCHAR},
      </if>
      <if test="teachPlace != null" >
        TEACH_PLACE = #{teachPlace,jdbcType=VARCHAR},
      </if>
      <if test="studentFrom != null" >
        STUDENT_FROM = #{studentFrom,jdbcType=VARCHAR},
      </if>
      <if test="studentSort != null" >
        STUDENT_SORT = #{studentSort,jdbcType=VARCHAR},
      </if>
      <if test="officialRegCode != null" >
        OFFICIAL_REG_CODE = #{officialRegCode,jdbcType=VARCHAR},
      </if>
      <if test="parentsName != null" >
        PARENTS_NAME = #{parentsName,jdbcType=VARCHAR},
      </if>
      <if test="parentsPhone != null" >
        PARENTS_PHONE = #{parentsPhone,jdbcType=VARCHAR},
      </if>
      <if test="faName != null" >
        FA_NAME = #{faName,jdbcType=VARCHAR},
      </if>
      <if test="faPhone != null" >
        FA_PHONE = #{faPhone,jdbcType=VARCHAR},
      </if>
      <if test="faWork != null" >
        FA_WORK = #{faWork,jdbcType=VARCHAR},
      </if>
      <if test="maName != null" >
        MA_NAME = #{maName,jdbcType=VARCHAR},
      </if>
      <if test="maPhone != null" >
        MA_PHONE = #{maPhone,jdbcType=VARCHAR},
      </if>
      <if test="maWork != null" >
        MA_WORK = #{maWork,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null" >
        CREATOR = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null" >
        UPDATER = #{updater,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
      <if test="graduateFrom != null" >
        GRADUATE_FROM = #{graduateFrom,jdbcType=LONGVARCHAR},
      </if>
      <if test="registryAddr != null" >
        REGISTRY_ADDR = #{registryAddr,jdbcType=LONGVARCHAR},
      </if>
      <if test="homeAddr != null" >
        HOME_ADDR = #{homeAddr,jdbcType=LONGVARCHAR},
      </if>
      <if test="remarks != null" >
        REMARKS = #{remarks,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.cloud9.biz.models.ArcStudentInfoWithBLOBs" >
    update arc_student_info
    set DOC_ID = #{docId,jdbcType=VARCHAR},
      STU_NUMBER = #{stuNumber,jdbcType=VARCHAR},
      USER_ID = #{userId,jdbcType=VARCHAR},
      REAL_NAME = #{realName,jdbcType=VARCHAR},
      IMG_URL = #{imgUrl,jdbcType=VARCHAR},
      SEX = #{sex,jdbcType=VARCHAR},
      USED_NAME = #{usedName,jdbcType=VARCHAR},
      IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR},
      BIRTH = #{birth,jdbcType=DATE},
      NATION = #{nation,jdbcType=VARCHAR},
      POLITICAL_STATUS = #{politicalStatus,jdbcType=VARCHAR},
      POST_CODE = #{postCode,jdbcType=VARCHAR},
      CLASS_ID = #{classId,jdbcType=VARCHAR},
      TYPE = #{type,jdbcType=VARCHAR},
      GRADE = #{grade,jdbcType=VARCHAR},
      ENROL_DATE = #{enrolDate,jdbcType=DATE},
      PHONE = #{phone,jdbcType=VARCHAR},
      MAJOR_ID = #{majorId,jdbcType=VARCHAR},
      REGISTRY_PROVINCE_CODE = #{registryProvinceCode,jdbcType=VARCHAR},
      REGISTRY_PROVINCE_TEXT = #{registryProvinceText,jdbcType=VARCHAR},
      REGISTRY_DISTRICT_CODE = #{registryDistrictCode,jdbcType=VARCHAR},
      REGISTRY_DISTRICT_TEXT = #{registryDistrictText,jdbcType=VARCHAR},
      REGISTRY_CITY_CODE = #{registryCityCode,jdbcType=VARCHAR},
      REGISTRY_CITY_TEXT = #{registryCityText,jdbcType=VARCHAR},
      REGISTRY_TYPE = #{registryType,jdbcType=VARCHAR},
      NATIVE_PLACE = #{nativePlace,jdbcType=VARCHAR},
      FROM_HMT = #{fromHmt,jdbcType=VARCHAR},
      EDU_TYPE = #{eduType,jdbcType=VARCHAR},
      BASIC_ALLOWANCES = #{basicAllowances,jdbcType=VARCHAR},
      TRANS_REGISTRY = #{transRegistry,jdbcType=VARCHAR},
      EDU_GRANT = #{eduGrant,jdbcType=VARCHAR},
      EDU_GRANT_AMOUNT = #{eduGrantAmount,jdbcType=VARCHAR},
      BANK_ACCOUNTS = #{bankAccounts,jdbcType=VARCHAR},
      LEARN_TYPE = #{learnType,jdbcType=VARCHAR},
      RECRUIT_TYPE = #{recruitType,jdbcType=VARCHAR},
      TEACH_PLACE = #{teachPlace,jdbcType=VARCHAR},
      STUDENT_FROM = #{studentFrom,jdbcType=VARCHAR},
      STUDENT_SORT = #{studentSort,jdbcType=VARCHAR},
      OFFICIAL_REG_CODE = #{officialRegCode,jdbcType=VARCHAR},
      PARENTS_NAME = #{parentsName,jdbcType=VARCHAR},
      PARENTS_PHONE = #{parentsPhone,jdbcType=VARCHAR},
      FA_NAME = #{faName,jdbcType=VARCHAR},
      FA_PHONE = #{faPhone,jdbcType=VARCHAR},
      FA_WORK = #{faWork,jdbcType=VARCHAR},
      MA_NAME = #{maName,jdbcType=VARCHAR},
      MA_PHONE = #{maPhone,jdbcType=VARCHAR},
      MA_WORK = #{maWork,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      CREATOR = #{creator,jdbcType=VARCHAR},
      UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      UPDATER = #{updater,jdbcType=VARCHAR},
      STATUS = #{status,jdbcType=VARCHAR},
      GRADUATE_FROM = #{graduateFrom,jdbcType=LONGVARCHAR},
      REGISTRY_ADDR = #{registryAddr,jdbcType=LONGVARCHAR},
      HOME_ADDR = #{homeAddr,jdbcType=LONGVARCHAR},
      REMARKS = #{remarks,jdbcType=LONGVARCHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cloud9.biz.models.ArcStudentInfo" >
    update arc_student_info
    set DOC_ID = #{docId,jdbcType=VARCHAR},
      STU_NUMBER = #{stuNumber,jdbcType=VARCHAR},
      USER_ID = #{userId,jdbcType=VARCHAR},
      REAL_NAME = #{realName,jdbcType=VARCHAR},
      IMG_URL = #{imgUrl,jdbcType=VARCHAR},
      SEX = #{sex,jdbcType=VARCHAR},
      USED_NAME = #{usedName,jdbcType=VARCHAR},
      IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR},
      BIRTH = #{birth,jdbcType=DATE},
      NATION = #{nation,jdbcType=VARCHAR},
      POLITICAL_STATUS = #{politicalStatus,jdbcType=VARCHAR},
      POST_CODE = #{postCode,jdbcType=VARCHAR},
      CLASS_ID = #{classId,jdbcType=VARCHAR},
      TYPE = #{type,jdbcType=VARCHAR},
      GRADE = #{grade,jdbcType=VARCHAR},
      ENROL_DATE = #{enrolDate,jdbcType=DATE},
      PHONE = #{phone,jdbcType=VARCHAR},
      MAJOR_ID = #{majorId,jdbcType=VARCHAR},
      REGISTRY_PROVINCE_CODE = #{registryProvinceCode,jdbcType=VARCHAR},
      REGISTRY_PROVINCE_TEXT = #{registryProvinceText,jdbcType=VARCHAR},
      REGISTRY_DISTRICT_CODE = #{registryDistrictCode,jdbcType=VARCHAR},
      REGISTRY_DISTRICT_TEXT = #{registryDistrictText,jdbcType=VARCHAR},
      REGISTRY_CITY_CODE = #{registryCityCode,jdbcType=VARCHAR},
      REGISTRY_CITY_TEXT = #{registryCityText,jdbcType=VARCHAR},
      REGISTRY_TYPE = #{registryType,jdbcType=VARCHAR},
      NATIVE_PLACE = #{nativePlace,jdbcType=VARCHAR},
      FROM_HMT = #{fromHmt,jdbcType=VARCHAR},
      EDU_TYPE = #{eduType,jdbcType=VARCHAR},
      BASIC_ALLOWANCES = #{basicAllowances,jdbcType=VARCHAR},
      TRANS_REGISTRY = #{transRegistry,jdbcType=VARCHAR},
      EDU_GRANT = #{eduGrant,jdbcType=VARCHAR},
      EDU_GRANT_AMOUNT = #{eduGrantAmount,jdbcType=VARCHAR},
      BANK_ACCOUNTS = #{bankAccounts,jdbcType=VARCHAR},
      LEARN_TYPE = #{learnType,jdbcType=VARCHAR},
      RECRUIT_TYPE = #{recruitType,jdbcType=VARCHAR},
      TEACH_PLACE = #{teachPlace,jdbcType=VARCHAR},
      STUDENT_FROM = #{studentFrom,jdbcType=VARCHAR},
      STUDENT_SORT = #{studentSort,jdbcType=VARCHAR},
      OFFICIAL_REG_CODE = #{officialRegCode,jdbcType=VARCHAR},
      PARENTS_NAME = #{parentsName,jdbcType=VARCHAR},
      PARENTS_PHONE = #{parentsPhone,jdbcType=VARCHAR},
      FA_NAME = #{faName,jdbcType=VARCHAR},
      FA_PHONE = #{faPhone,jdbcType=VARCHAR},
      FA_WORK = #{faWork,jdbcType=VARCHAR},
      MA_NAME = #{maName,jdbcType=VARCHAR},
      MA_PHONE = #{maPhone,jdbcType=VARCHAR},
      MA_WORK = #{maWork,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      CREATOR = #{creator,jdbcType=VARCHAR},
      UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      UPDATER = #{updater,jdbcType=VARCHAR},
      STATUS = #{status,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>

  <!--自定义-->
  <select id="selectStudentInfoPageData" resultMap="BaseResultMap" parameterType="pageBean">
    select a.ID, a.DOC_ID, a.STU_NUMBER, a.USER_ID, a.REAL_NAME, a.IMG_URL, a.SEX, a.USED_NAME, a.IDENTITY_CARD,
    a.BIRTH, a.NATION, a.POLITICAL_STATUS, a.POST_CODE, a.CLASS_ID, a.TYPE, a.GRADE, a.ENROL_DATE, a.PHONE,
    a.MAJOR_ID, a.REGISTRY_PROVINCE_CODE, a.REGISTRY_PROVINCE_TEXT, a.REGISTRY_DISTRICT_CODE,
    a.REGISTRY_DISTRICT_TEXT, a.REGISTRY_CITY_CODE, a.REGISTRY_CITY_TEXT, a.REGISTRY_TYPE, a.NATIVE_PLACE,
    a.FROM_HMT, a.EDU_TYPE, a.BASIC_ALLOWANCES, a.TRANS_REGISTRY, a.EDU_GRANT, a.EDU_GRANT_AMOUNT,
    a.BANK_ACCOUNTS, a.LEARN_TYPE, a.RECRUIT_TYPE, a.TEACH_PLACE, a.STUDENT_FROM, a.STUDENT_SORT,
    a.OFFICIAL_REG_CODE, a.PARENTS_NAME, a.PARENTS_PHONE, a.FA_NAME, a.FA_PHONE, a.FA_WORK, a.MA_NAME,
    a.MA_PHONE, a.MA_WORK, a.CREATE_TIME, a.CREATOR, a.UPDATE_TIME, a.UPDATER, a.STATUS         ,
    (select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE = a.STATUS) as statusText     ,
    (select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = a.SEX) as sexText     ,
    (select name from sys_major where id = a.MAJOR_ID) as majorText
    , c.name as className
    , c.name as classText
    from arc_student_info a,tch_class_info c
    where 1=1 and a.class_id = c.id
    <if test="queryparam.status!=null and queryparam.status!='' ">
      and a.STATUS = #{queryparam.status,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.realName!=null and queryparam.realName!='' ">
      and a.REAL_NAME like '%${queryparam.realName}%'
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and a.ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    <if test="queryparam.stuNo!=null and queryparam.stuNo!=''">
      and a.STU_NUMBER  = #{queryparam.stuNo,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.classId!=null and queryparam.classId!=''">
      and a.CLASS_ID  = #{queryparam.classId,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and a.ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    order by c.name,a.STU_NUMBER
  </select>

  <select id="selectStudentChangeInfoPageData" resultMap="BaseResultMap" parameterType="pageBean">
    select  a.*
    ,(select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE = STATUS) as statusText
    ,(select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = SEX) as sexText
    ,(select name from sys_major where id = a.MAJOR_ID) as majorText
    ,(select name from tch_class_info c where c.id =  a.class_id) as classText
    ,b.TYPE as extType
    ,b.START_TIME as extStarTime
    ,b.END_TIME as extEndTime
    from arc_student_info a
    left join arc_student_ext b on
    a.id = b.STU_ID
    where 1=1
    <if test="queryparam.status!=null and queryparam.status!='' ">
      and STATUS = #{queryparam.status,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.realName!=null and queryparam.realName!='' ">
      and REAL_NAME like '%${queryparam.realName}%'
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    <if test="queryparam.stuNo!=null and queryparam.stuNo!=''">
      and STU_NUMBER  = #{queryparam.stuNo,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.classId!=null and queryparam.classId!=''">
      and CLASS_ID  = #{queryparam.classId,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
  </select>


  <select id="selectStudentChangeInfo" resultMap="BaseResultMap" parameterType="java.util.Map">
    select  a.*
    ,(select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE = STATUS) as statusText
    ,(select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = SEX) as sexText
    ,(select name from sys_major where id = a.MAJOR_ID) as majorText
    ,(select name from tch_class_info c where c.id =  a.class_id) as classText
    ,b.TYPE as extType
    ,b.START_TIME as extStarTime
    ,b.END_TIME as extEndTime
    from arc_student_info a
    left join arc_student_ext b on
    a.id = b.STU_ID
    where 1=1
    <if test="status!=null and status!='' ">
      and STATUS = #{status,jdbcType=VARCHAR}
    </if>
    <if test="realName!=null and realName!='' ">
      and REAL_NAME like '%${realName}%'
    </if>
    <if test="enrolDateYearStart!=null and enrolDateYearStart!='' and enrolDateYearEnd!=null and enrolDateYearEnd!='' ">
      and ENROL_DATE between  #{enrolDateYearStart,jdbcType=INTEGER} and #{enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    <if test="stuNo!=null and stuNo!=''">
      and STU_NUMBER  = #{stuNo,jdbcType=VARCHAR}
    </if>
    <if test="classId!=null and classId!=''">
      and CLASS_ID  = #{classId,jdbcType=VARCHAR}
    </if>
    <if test="enrolDateYearStart!=null and enrolDateYearStart!='' and enrolDateYearEnd!=null and enrolDateYearEnd!='' ">
      and ENROL_DATE between  #{enrolDateYearStart,jdbcType=INTEGER} and #{enrolDateYearEnd,jdbcType=INTEGER}
    </if>
  </select>

  <select id="selectStudentInfoByParams" resultMap="BaseResultMap"  parameterType="com.cloud9.biz.models.ArcStudentInfo">
    select
    ID, DOC_ID, STU_NUMBER, USER_ID, REAL_NAME, IMG_URL, SEX, USED_NAME, IDENTITY_CARD,
    BIRTH, NATION, POLITICAL_STATUS, POST_CODE, CLASS_ID, TYPE, GRADE, ENROL_DATE, PHONE,
    MAJOR_ID, REGISTRY_PROVINCE_CODE, REGISTRY_PROVINCE_TEXT, REGISTRY_DISTRICT_CODE,
    REGISTRY_DISTRICT_TEXT, REGISTRY_CITY_CODE, REGISTRY_CITY_TEXT, REGISTRY_TYPE, NATIVE_PLACE,
    FROM_HMT, EDU_TYPE, BASIC_ALLOWANCES, TRANS_REGISTRY, EDU_GRANT, EDU_GRANT_AMOUNT,
    BANK_ACCOUNTS, LEARN_TYPE, RECRUIT_TYPE, TEACH_PLACE, STUDENT_FROM, STUDENT_SORT,
    OFFICIAL_REG_CODE, PARENTS_NAME, PARENTS_PHONE, FA_NAME, FA_PHONE, FA_WORK, MA_NAME,
    MA_PHONE, MA_WORK, CREATE_TIME, CREATOR, UPDATE_TIME, UPDATER, STATUS
    , (select NAME from tch_class_info c where arc_student_info.CLASS_ID = ID) as classText
    , (select SEQ from tch_class_info c where arc_student_info.CLASS_ID = ID) as classSeq
    ,(select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE =arc_student_info.STATUS) as statusText
    ,(select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = arc_student_info.SEX) as sexText
    ,(select name from sys_major where id = arc_student_info.MAJOR_ID) as majorText
    from arc_student_info
    where 1=1
    <if test="id!=null and id!='' ">
      and ID = #{id,jdbcType=VARCHAR}
    </if>
    <if test="userId!=null and userId!='' ">
      and USER_ID = #{userId,jdbcType=VARCHAR}
    </if>
  </select>

  <!--查询有效学员信息-->
  <select id="selectActCountByUserId" resultType="java.lang.Integer"  parameterType="java.lang.String">
    select count(1)
    from arc_student_info
    where  USER_ID = #{userId,jdbcType=VARCHAR}
  </select>

  <!--通过userid查询有效学员信息-->
  <select id="selectStuInfoByUserId"  resultMap="BaseResultMap"   parameterType="java.lang.String">
    select <include refid="Base_Column_List" />
    from arc_student_info
    where  USER_ID = #{userId,jdbcType=VARCHAR}
  </select>

  <!--通过userid查询有效学员所有信息-->
  <select id="selectAllStuInfoByUserId"  resultMap="ResultMapWithBLOBs"   parameterType="java.lang.String">
    select
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    ,(select s.NAME from tch_class_info s where s.ID = stu.CLASS_ID ) as classText,
    (select s.NAME from sys_grades s where s.code = stu.grade) as gradeText,
    (select name from sys_major where id = stu.MAJOR_ID) as majorText,
    (select TEXT from sys_dict_item where dict_type = 'EDU_TYPE' and CODE = stu.EDU_TYPE) as eduTypeText
    from arc_student_info stu
    where  USER_ID = #{userId,jdbcType=VARCHAR}
  </select>

  <!--查询学号数量信息-->
  <select id="selectActCountByStuNum" resultType="java.lang.Integer"  parameterType="java.lang.String">
    select count(1)
    from arc_student_info
    where  STU_NUMBER = #{stuNumber,jdbcType=VARCHAR}
  </select>

  <!--查询档案号数量信息-->
  <select id="selectActCountByDocId" resultType="java.lang.Integer"  parameterType="java.lang.String">
    select count(1)
    from arc_student_info
    where  DOC_ID = #{docId,jdbcType=VARCHAR}
  </select>

  <!--查询档案号数量信息-->
  <select id="selectActCountByIdentityCard" resultType="java.lang.Integer"  parameterType="java.lang.String">
    select count(1)
    from arc_student_info
    where  IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR}
  </select>

  <!--修改信息项目-->
  <update id="updateInfoByIDSelective" parameterType="com.cloud9.biz.models.ArcStudentInfo" >
    update arc_student_info
    <set >
      <if test="docId != null" >
        DOC_ID = #{docId,jdbcType=VARCHAR},
      </if>
      <if test="stuNumber != null" >
        STU_NUMBER = #{stuNumber,jdbcType=VARCHAR},
      </if>
      <if test="userId != null" >
        USER_ID = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="realName != null" >
        REAL_NAME = #{realName,jdbcType=VARCHAR},
      </if>
      <if test="imgUrl != null" >
        IMG_URL = #{imgUrl,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        SEX = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="usedName != null" >
        USED_NAME = #{usedName,jdbcType=VARCHAR},
      </if>
      <if test="identityCard != null" >
        IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR},
      </if>
      <if test="birth != null" >
        BIRTH = #{birth,jdbcType=DATE},
      </if>
      <if test="nation != null" >
        NATION = #{nation,jdbcType=VARCHAR},
      </if>
      <if test="politicalStatus != null" >
        POLITICAL_STATUS = #{politicalStatus,jdbcType=VARCHAR},
      </if>
      <if test="postCode != null" >
        POST_CODE = #{postCode,jdbcType=VARCHAR},
      </if>
      <if test="classId != null" >
        CLASS_ID = #{classId,jdbcType=VARCHAR},
      </if>
      <if test="type != null" >
        TYPE = #{type,jdbcType=VARCHAR},
      </if>
      <if test="grade != null" >
        GRADE = #{grade,jdbcType=VARCHAR},
      </if>
      <if test="enrolDate != null" >
        ENROL_DATE = #{enrolDate,jdbcType=DATE},
      </if>
      <if test="phone != null" >
        PHONE = #{phone,jdbcType=VARCHAR},
      </if>
      <if test="majorId != null" >
        MAJOR_ID = #{majorId,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceCode != null" >
        REGISTRY_PROVINCE_CODE = #{registryProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="registryProvinceText != null" >
        REGISTRY_PROVINCE_TEXT = #{registryProvinceText,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictCode != null" >
        REGISTRY_DISTRICT_CODE = #{registryDistrictCode,jdbcType=VARCHAR},
      </if>
      <if test="registryDistrictText != null" >
        REGISTRY_DISTRICT_TEXT = #{registryDistrictText,jdbcType=VARCHAR},
      </if>
      <if test="registryCityCode != null" >
        REGISTRY_CITY_CODE = #{registryCityCode,jdbcType=VARCHAR},
      </if>
      <if test="registryCityText != null" >
        REGISTRY_CITY_TEXT = #{registryCityText,jdbcType=VARCHAR},
      </if>
      <if test="registryType != null" >
        REGISTRY_TYPE = #{registryType,jdbcType=VARCHAR},
      </if>
      <if test="nativePlace != null" >
        NATIVE_PLACE = #{nativePlace,jdbcType=VARCHAR},
      </if>
      <if test="fromHmt != null" >
        FROM_HMT = #{fromHmt,jdbcType=VARCHAR},
      </if>
      <if test="eduType != null" >
        EDU_TYPE = #{eduType,jdbcType=VARCHAR},
      </if>
      <if test="basicAllowances != null" >
        BASIC_ALLOWANCES = #{basicAllowances,jdbcType=VARCHAR},
      </if>
      <if test="transRegistry != null" >
        TRANS_REGISTRY = #{transRegistry,jdbcType=VARCHAR},
      </if>
      <if test="eduGrant != null" >
        EDU_GRANT = #{eduGrant,jdbcType=VARCHAR},
      </if>
      <if test="eduGrantAmount != null" >
        EDU_GRANT_AMOUNT = #{eduGrantAmount,jdbcType=VARCHAR},
      </if>
      <if test="bankAccounts != null" >
        BANK_ACCOUNTS = #{bankAccounts,jdbcType=VARCHAR},
      </if>
      <if test="learnType != null" >
        LEARN_TYPE = #{learnType,jdbcType=VARCHAR},
      </if>
      <if test="recruitType != null" >
        RECRUIT_TYPE = #{recruitType,jdbcType=VARCHAR},
      </if>
      <if test="teachPlace != null" >
        TEACH_PLACE = #{teachPlace,jdbcType=VARCHAR},
      </if>
      <if test="studentFrom != null" >
        STUDENT_FROM = #{studentFrom,jdbcType=VARCHAR},
      </if>
      <if test="studentSort != null" >
        STUDENT_SORT = #{studentSort,jdbcType=VARCHAR},
      </if>
      <if test="officialRegCode != null" >
        OFFICIAL_REG_CODE = #{officialRegCode,jdbcType=VARCHAR},
      </if>
      <if test="parentsName != null" >
        PARENTS_NAME = #{parentsName,jdbcType=VARCHAR},
      </if>
      <if test="parentsPhone != null" >
        PARENTS_PHONE = #{parentsPhone,jdbcType=VARCHAR},
      </if>
      <if test="faName != null" >
        FA_NAME = #{faName,jdbcType=VARCHAR},
      </if>
      <if test="faPhone != null" >
        FA_PHONE = #{faPhone,jdbcType=VARCHAR},
      </if>
      <if test="faWork != null" >
        FA_WORK = #{faWork,jdbcType=VARCHAR},
      </if>
      <if test="maName != null" >
        MA_NAME = #{maName,jdbcType=VARCHAR},
      </if>
      <if test="maPhone != null" >
        MA_PHONE = #{maPhone,jdbcType=VARCHAR},
      </if>
      <if test="maWork != null" >
        MA_WORK = #{maWork,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null" >
        CREATOR = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null" >
        UPDATER = #{updater,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>

  <update id="increaseStuGrade" parameterType="com.cloud9.biz.models.ArcStudentInfo" >
    update arc_student_info
    <set >
      <if test="grade != null" >
        GRADE = #{grade,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null" >
        UPDATER = #{updater,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
    </set>
    where CLASS_ID = #{classId,jdbcType=VARCHAR}
  </update>
  <!--校验学籍属性数据重复数量-->
  <select id="selectExistInfo" resultType="java.util.Map"  parameterType="com.cloud9.biz.models.ArcStudentInfo">
   select
      SUM(IF(a.doc_ID = #{docId,jdbcType=VARCHAR}, 1, 0)) docIdCount,
      SUM(IF(a.stu_number = #{stuNumber,jdbcType=VARCHAR}, 1, 0)) stuNumCount,
      SUM(IF(a.IDENTITY_CARD = #{identityCard,jdbcType=VARCHAR}, 1, 0)) idCardCount
   from arc_student_info a
  </select>

  <insert id="batchAddStuInfo"  >
    insert into arc_student_info (ID, DOC_ID, STU_NUMBER,
      USER_ID, REAL_NAME, IMG_URL,
      SEX, USED_NAME, IDENTITY_CARD,
      BIRTH, NATION, POLITICAL_STATUS,
      POST_CODE, CLASS_ID, TYPE,
      GRADE, ENROL_DATE, PHONE,
      MAJOR_ID, REGISTRY_PROVINCE_CODE, REGISTRY_PROVINCE_TEXT,
      REGISTRY_DISTRICT_CODE, REGISTRY_DISTRICT_TEXT,
      REGISTRY_CITY_CODE, REGISTRY_CITY_TEXT, REGISTRY_TYPE,
      NATIVE_PLACE, FROM_HMT, EDU_TYPE,
      BASIC_ALLOWANCES, TRANS_REGISTRY, EDU_GRANT,
      EDU_GRANT_AMOUNT, BANK_ACCOUNTS, LEARN_TYPE,
      RECRUIT_TYPE, TEACH_PLACE, STUDENT_FROM,
      STUDENT_SORT, OFFICIAL_REG_CODE, PARENTS_NAME,
      PARENTS_PHONE, FA_NAME, FA_PHONE,
      FA_WORK, MA_NAME, MA_PHONE,
      MA_WORK, CREATE_TIME, CREATOR,
      UPDATE_TIME, UPDATER, STATUS,
      GRADUATE_FROM, REGISTRY_ADDR, HOME_ADDR,
      REMARKS)
    values
    <foreach item="data"  collection="dataList"  index="index" separator=",">
      (#{data.id,jdbcType=VARCHAR}, #{data.docId,jdbcType=VARCHAR}, #{data.stuNumber,jdbcType=VARCHAR},
      #{data.userId,jdbcType=VARCHAR}, #{data.realName,jdbcType=VARCHAR}, #{data.imgUrl,jdbcType=VARCHAR},
      #{data.sex,jdbcType=VARCHAR}, #{data.usedName,jdbcType=VARCHAR}, #{data.identityCard,jdbcType=VARCHAR},
      #{data.birth,jdbcType=DATE}, #{data.nation,jdbcType=VARCHAR}, #{data.politicalStatus,jdbcType=VARCHAR},
      #{data.postCode,jdbcType=VARCHAR}, #{data.classId,jdbcType=VARCHAR}, #{data.type,jdbcType=VARCHAR},
      #{data.grade,jdbcType=VARCHAR}, #{data.enrolDate,jdbcType=DATE}, #{data.phone,jdbcType=VARCHAR},
      #{data.majorId,jdbcType=VARCHAR}, #{data.registryProvinceCode,jdbcType=VARCHAR}, #{data.registryProvinceText,jdbcType=VARCHAR},
      #{data.registryDistrictCode,jdbcType=VARCHAR}, #{data.registryDistrictText,jdbcType=VARCHAR},
      #{data.registryCityCode,jdbcType=VARCHAR}, #{data.registryCityText,jdbcType=VARCHAR}, #{data.registryType,jdbcType=VARCHAR},
      #{data.nativePlace,jdbcType=VARCHAR}, #{data.fromHmt,jdbcType=VARCHAR}, #{data.eduType,jdbcType=VARCHAR},
      #{data.basicAllowances,jdbcType=VARCHAR}, #{data.transRegistry,jdbcType=VARCHAR}, #{data.eduGrant,jdbcType=VARCHAR},
      #{data.eduGrantAmount,jdbcType=VARCHAR}, #{data.bankAccounts,jdbcType=VARCHAR}, #{data.learnType,jdbcType=VARCHAR},
      #{data.recruitType,jdbcType=VARCHAR}, #{data.teachPlace,jdbcType=VARCHAR}, #{data.studentFrom,jdbcType=VARCHAR},
      #{data.studentSort,jdbcType=VARCHAR}, #{data.officialRegCode,jdbcType=VARCHAR}, #{data.parentsName,jdbcType=VARCHAR},
      #{data.parentsPhone,jdbcType=VARCHAR}, #{data.faName,jdbcType=VARCHAR}, #{data.faPhone,jdbcType=VARCHAR},
      #{data.faWork,jdbcType=VARCHAR}, #{data.maName,jdbcType=VARCHAR}, #{data.maPhone,jdbcType=VARCHAR},
      #{data.maWork,jdbcType=VARCHAR}, #{data.createTime,jdbcType=TIMESTAMP}, #{data.creator,jdbcType=VARCHAR},
      #{data.updateTime,jdbcType=TIMESTAMP}, #{data.updater,jdbcType=VARCHAR}, #{data.status,jdbcType=VARCHAR},
      #{data.graduateFrom,jdbcType=LONGVARCHAR}, #{data.registryAddr,jdbcType=LONGVARCHAR}, #{data.homeAddr,jdbcType=LONGVARCHAR},
      #{data.remarks,jdbcType=LONGVARCHAR})
    </foreach>
  </insert>

  <select id="selectStudentInfoByKey" resultMap="BaseResultMap"  parameterType="java.lang.String">
    select
    <include refid="Base_Column_List"/>
    ,(select name from tch_class_info c where c.id = stu.CLASS_ID) as className
    from arc_student_info stu where  (status = '3' or status = '1')
    and STU_NUMBER like '%${key}%'
    <if test="numLimit != null and numLimit != ''" >
      limit #{numLimit,jdbcType=INTEGER}
    </if>
  </select>

 <!--自定义 by zl-->

  <!--获取开课的学生集合-->
  <select id="selectStusByOpenCourseId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select stu.*,cla.name as className,cla.period as period,cla.GRADUATE_YEAR as graduateYear
    from TCH_STU_COURSE_OPEN_REL cor,arc_student_info stu,tch_class_info cla
    where
    cor.STU_ID = stu.id
    AND
    cor.COURSE_OPEN_ID = #{openCourseId,jdbcType=VARCHAR}
    AND
    cla.id = stu.class_id
  </select>

  <select id="queryStuinfoByUserId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select stu.*
    from arc_student_info stu
    where
    stu.USER_ID = #{userId,jdbcType=VARCHAR}
  </select>
  <select id="selectStudentInfosByParams" resultMap="BaseResultMap"  parameterType="com.cloud9.biz.models.ArcStudentInfo">
    select a.ID, a.DOC_ID, a.STU_NUMBER, a.USER_ID, a.REAL_NAME, a.IMG_URL, a.SEX, a.USED_NAME, a.IDENTITY_CARD,
    a.CLASS_ID, a.TYPE, a.GRADE, a.ENROL_DATE, a.PHONE,
    a.MAJOR_ID,a.PARENTS_NAME, a.PARENTS_PHONE, a.FA_NAME, a.FA_PHONE, a.FA_WORK, a.MA_NAME,
    a.MA_PHONE, a.MA_WORK, a.CREATE_TIME, a.CREATOR, a.UPDATE_TIME, a.UPDATER, a.STATUS
    , (select NAME from tch_class_info c where a.CLASS_ID = ID) as classText
    , (select SEQ from tch_class_info c where a.CLASS_ID = ID) as classSeq
    ,(select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE =a.STATUS) as statusText
    ,(select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = a.SEX) as sexText
    ,(select name from sys_major where id = a.MAJOR_ID) as majorText
    from arc_student_info a
    where 1=1
    <if test="id!=null and id!='' ">
      and a.ID = #{id,jdbcType=VARCHAR}
    </if>
    <if test="userId!=null and userId!='' ">
      and  a.USER_ID = #{userId,jdbcType=VARCHAR}
    </if>
    <if test="classId!=null and classId!='' ">
      and  a.CLASS_ID = #{classId,jdbcType=VARCHAR}
    </if>
  </select>
  <select id="selectStuAttendanceCheckInfoPageData" resultMap="StuAttendanceCheckResultMap" parameterType="pageBean">
    select a.DOC_ID, a.STU_NUMBER, a.USER_ID, a.REAL_NAME, a.IMG_URL, a.SEX, a.USED_NAME, a.IDENTITY_CARD,
    a.CLASS_ID, a.TYPE, a.GRADE, a.ENROL_DATE, a.PHONE,
    a.MAJOR_ID,a.PARENTS_NAME, a.PARENTS_PHONE, a.FA_NAME, a.FA_PHONE, a.FA_WORK, a.MA_NAME,
    a.MA_PHONE, a.MA_WORK, a.CREATE_TIME, a.CREATOR, a.UPDATE_TIME, a.UPDATER, a.STATUS         ,
    (select TEXT from sys_dict_item where dict_type = 'INFO_STATUS' and CODE = a.STATUS) as statusText     ,
    (select TEXT from sys_dict_item where dict_type = 'USER_SEX' and CODE = a.SEX) as sexText     ,
    (select name from sys_major where id = a.MAJOR_ID) as majorText
    , c.name as classText
    ,d.ID,d.TOTAL,d.TERM,d.SCHOOL_YEAR
    ,(select TEXT from sys_dict_item where dict_type = 'TERM' and CODE =d.TERM) as termText
    ,(select TEXT from sys_dict_item where dict_type = 'ATTENDANCE_CHECK_ITEMS' and CODE = a.STATUS) as assessmentCodeText
    from arc_student_info a,tch_class_info c,stu_attendance_check_total d
    where 1=1 and a.class_id = c.id and a.ID=d.STU_ID
    <if test="queryparam.id!=null and queryparam.id!=''">
      and d.ID  = #{queryparam.id,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.status!=null and queryparam.status!='' ">
      and a.STATUS = #{queryparam.status,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.realName!=null and queryparam.realName!='' ">
      and a.REAL_NAME like '%${queryparam.realName}%'
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and a.ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    <if test="queryparam.stuNo!=null and queryparam.stuNo!=''">
      and a.STU_NUMBER  = #{queryparam.stuNo,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.classId!=null and queryparam.classId!=''">
      and a.CLASS_ID  = #{queryparam.classId,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.assessmentCode!=null and queryparam.assessmentCode!=''">
      and d.ASSESSMENT_CODE  = #{queryparam.assessmentCode,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.term!=null and queryparam.term!=''">
      and d.TERM  = #{queryparam.term,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.schoolYear!=null and queryparam.schoolYear!=''">
      and d.SCHOOL_YEAR  = #{queryparam.schoolYear,jdbcType=VARCHAR}
    </if>
    <if test="queryparam.enrolDateYearStart!=null and queryparam.enrolDateYearStart!='' and queryparam.enrolDateYearEnd!=null and queryparam.enrolDateYearEnd!='' ">
      and a.ENROL_DATE between  #{queryparam.enrolDateYearStart,jdbcType=INTEGER} and #{queryparam.enrolDateYearEnd,jdbcType=INTEGER}
    </if>
    order by a.STU_NUMBER
  </select>
  <select id="selectStuAttendanceCheckInfoCountByParam" resultType="java.lang.Integer"  parameterType="com.cloud9.biz.models.TchStuAttendanceCheckInfo">
    select count(1)
    from stu_attendance_check_total
    where 1=1
    <if test="id!=null and id!=''">
      and ID  = #{id,jdbcType=VARCHAR}
    </if>
    <if test="stuId!=null and stuId!=''">
      and STU_ID  = #{stuId,jdbcType=VARCHAR}
    </if>
    <if test="assessmentCode!=null and assessmentCode!=''">
      and ASSESSMENT_CODE  = #{assessmentCode,jdbcType=VARCHAR}
    </if>
    <if test="schoolYear!=null and schoolYear!=''">
      and SCHOOL_YEAR  = #{schoolYear,jdbcType=VARCHAR}
    </if>
    <if test="term!=null and term!=''">
      and TERM  = #{term,jdbcType=VARCHAR}
    </if>
  </select>
  <insert id="insertSelectiveStuAttendanceCheckInfo" parameterType="com.cloud9.biz.models.TchStuAttendanceCheckInfo" >
    insert into stu_attendance_check_total (ID, STU_ID, ASSESSMENT_CODE,TOTAL,TERM,SCHOOL_YEAR)
    values (#{id,jdbcType=VARCHAR}, #{stuId,jdbcType=VARCHAR}, #{assessmentCode,jdbcType=VARCHAR},#{total,jdbcType=VARCHAR}, #{term,jdbcType=VARCHAR}, #{schoolYear,jdbcType=VARCHAR})
  </insert>
  <update id="modStuAttendanceCheckTotal" parameterType="java.lang.String" >
    update stu_attendance_check_total
    set total=total+(#{increment,jdbcType=INTEGER})
    where ID = '${Id}'
  </update>

  <!--通过userid查询有效学员所有信息-->
  <select id="selectAllStuInfoByStuId"  resultMap="ResultMapWithBLOBs"   parameterType="java.lang.String">
    select
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    ,(select s.NAME from tch_class_info s where s.ID = stu.CLASS_ID ) as classText,
    (select s.NAME from sys_grades s where s.code = stu.grade) as gradeText,
    (select name from sys_major where id = stu.MAJOR_ID) as majorText,
    (select TEXT from sys_dict_item where dict_type = 'EDU_TYPE' and CODE = stu.EDU_TYPE) as eduTypeText
    from arc_student_info stu
    where  stu.id = #{stuId,jdbcType=VARCHAR}
  </select>


</mapper>